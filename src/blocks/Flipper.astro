---
import Icon from '../atoms/Icon.astro'
import Copy from '../atoms/Copy.astro'
import BannerTitle from './BannerTitle.astro'
import { _transition } from '../scripts/snips'

const
    {
        title, copy, tag
        , class: classes, ...attrs
    } = Astro.props,
    Tag = 'div'
---
<Tag class:list={['relative min-h-[456px] xl:min-h-[424px]', classes]} data-flipper { ...attrs }>
    <div
        class:list={[
            'bg-accent-600 text-white flex flex-col justify-between h-full absolute inset-0 z-[2]',
            _transition()
        ]}
        data-flipper="face">
        <div
            class="flex items-center justify-end p-5 w-full pointer-events-none">
            <Icon
                name="arrow-down"
                class:list="w-7 pointer-events-none animate-bounce [animation-play-state:paused] group-hover:[animation-play-state:running]"
            />
        </div>
        <div class="flex items-end gap-2 p-5 pointer-events-none">
            <BannerTitle
                title={ title }
                level={ 'h3' }
                size={ 'lg' }
                weight={ 'extra' }
                color={ 'white' }
            />
        </div>
    </div>
    <div
        class:list={[
            'bg-surface-50 flex flex-col justify-between p-5 h-full absolute inset-0 z-[1]',
            _transition()
        ]}
        data-flipper="back">
        <div class="flex flex-col gap-y-5 pointer-events-none">
            <BannerTitle
                title={ title }
                level="h3"
                size="md"
                weight="bold"
                color="dark",
                slatColor="accent"
            />
            <Copy
                content={ copy }
                growText={ false }
            />
        </div>
        <div class="flex items-center justify-end w-full pointer-events-none">
            <Icon
                name="arrow-up"
                class:list="w-7 pointer-events-none text-accent-600 animate-bounce [animation-play-state:paused] group-hover:[animation-play-state:running]"
            />
        </div>
    </div>
</Tag>