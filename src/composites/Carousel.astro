---
import Section from '../layouts/Section.astro'
import { _padY, _padB } from '../scripts/snips'
import Cover from '../atoms/Cover.astro'
import Button from '../atoms/Button.astro'

const
    {
        blok
    } = Astro.props,
    images = blok.images
---
<Section
    title={ blok.title }
    component={ blok.component }
    class:list={[ '' ]}>
    <div class="swiper relative">
        <div class="swiper-wrapper">
            { images.map((el: any, idx: number) => (
                <div class="swiper-slide !flex items-center justify-center !w-[88%] sm:!w-[80%]">
                    <Cover
                        filename={ el.file.filename }
                        class:list="xl:max-h-[680px]"
                    />
                </div>
            )) }
        </div>
        <Button
            tag="button"
            icon="arrow-left-fill"
            color="accent"
            fab
            class:list="swiper-button-prev absolute top-1/2 -translate-y-1/2 left-4 sm:left-8 md:left-12 lg:left-16 xl:left-28 z-[2] hidden sm:flex"
        />
        <Button
            tag="button"
            icon="arrow-right-fill"
            color="accent"
            fab
            class:list="swiper-button-next absolute top-1/2 -translate-y-1/2 right-4 sm:right-8 md:right-12 lg:right-16 xl:right-28 z-[2] hidden sm:flex"
        />
    </div>
</Section>

<script>
    import Swiper from 'swiper'
    import { Navigation } from 'swiper/modules'

    import 'swiper/css'

    const swiper = new Swiper('.swiper', {
        loop: true,
        autoplay: { delay: 3500 },
        centeredSlides: true,
        slidesPerView: 'auto',
        grabCursor: true,
        spaceBetween: 12,
        autoHeight: true,

        modules: [ Navigation ],
        navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
        },

        a11y: {
            prevSlideMessage: 'Previous Slide',
            nextSlideMessage: 'Next Slide',
        },
    })
</script>